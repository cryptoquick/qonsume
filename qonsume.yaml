---
# an example qonsume.yaml

# provides authentication key use in query
env:
  authkey: STATIC_AUTHKEY

# to switch production or staging from the command line usign the --host parameter
cmd:
  livehost: host

# describe hosts, and their resources, and resource dependencies
hosts:
  stub:
    files: test/stub/

    res:
      special_users: special_user_ids.yaml

  live:
    host: (cmd livehost)
    port: 3030
    params:
      -
        auth: (env authkey)

    res:
      articles: /articles
      comments: /article/(articles articles.id)/comments
      comments_on_articles: /article/(articles id)/comment/(comments comment.id)
      users: /user/(comments_on_articles user.id)

extract:
  user_names.json: (users user.name)
